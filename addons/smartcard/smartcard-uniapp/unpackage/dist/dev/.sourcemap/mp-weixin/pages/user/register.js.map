{"version":3,"sources":["uni-app:///main.js","webpack:////Users/qiujianjun/code/wechat-card/addons/smartcard/smartcard-uniapp/pages/user/register.vue?1ba2","webpack:////Users/qiujianjun/code/wechat-card/addons/smartcard/smartcard-uniapp/pages/user/register.vue?56db","webpack:////Users/qiujianjun/code/wechat-card/addons/smartcard/smartcard-uniapp/pages/user/register.vue?7f4d","webpack:////Users/qiujianjun/code/wechat-card/addons/smartcard/smartcard-uniapp/pages/user/register.vue?4115","uni-app:///pages/user/register.vue","webpack:////Users/qiujianjun/code/wechat-card/addons/smartcard/smartcard-uniapp/pages/user/register.vue?cfa1","webpack:////Users/qiujianjun/code/wechat-card/addons/smartcard/smartcard-uniapp/pages/user/register.vue?fe54"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","reachbottom","data","loading","mobile","title","username","password","password2","class_id","ismobile","group_id","code","baseLogo","countDown","sendSms","timer","email","ifCompany","loadingStatus","companyname","company_id","companyList","keywords","color","mounted","_this","onLoad","onShow","methods","userNameInput","mobileInput","emailInput","passwordInput","password2Input","codeInput","mobileLogin","companyInput","page","console","companylist","limit","item","uni","icon","duration","bottomHospital","selectCompany","getCaptcha","position","event","runCode","clearInterval","wxLogin","success","fail","wechatLogin","changMobileLogin","register","url","onGetUserProfile","desc","platform","encrypted_data","iv","raw_data","signature","showCancel","content"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,iBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;AACa;;;AAGpE;AACsN;AACtN,gBAAgB,iNAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAo2B,CAAgB,syBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;ACuDx3B;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AADA;AAEA;EAAAC;AAAA,eACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;EACA;EACAC;IACA;EACA;EACAC,2BACA;EACAC;IACAC;MACAJ;IACA;IACAK;MACAL;IACA;IACAM;MACAN;IACA;IACAO;MACAP;IACA;IACAQ;MACAR;IACA;IACAS;MACAT;IACA;IACAU;MACAV;IACA;IAEAW;MACAC;MACArC;MACAsC;MACA;QACA;UACA;UACA;UACA;UACA;QACA;MACA;QACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;MACAd,uBACA;QACAN;QACAkB;QACAG;MACA,GACA;QACA;UACA;UACA;UACA;YACA,yBACAC;UAEA;UACA;YACAzC;YACA0C;cACAtC;cACAuC;cACAC;YACA;UACA;YACAP;YACAK;YACA;UACA;UACA;UACA;YACA;YACAL;YACArC;YACA;UACA;QACA;MACA;IACA;IACA6C;MACA;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;QACAL;UACAC;UACAK;UACA5C;QACA;QACA;MACA;QACAqB,yBACA;UACAwB;UACA9C;QACA,GACA;UACA;YACAsB;YACAA;YACAA;UACA;YACAA;YACAA;UACA;QACA,EACA;MACA;IACA;IACAyB;MACA;QACA;UACA;YACAzB;UACA;YACAA;YACAA;YACA0B;YACA;UAEA;QACA;MACA;IACA;IACAC;MAAA;MACAzD;QACA0D;UACA;QACA;QACAC;UACAhB;QACA;MACA;IACA;IACA;IACAiB;MACA9B;IACA;IACA;IACA+B;MACA/B;IAEA;IACA;IACAgC;MACAhC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACAiB;UACAC;UACAK;UACA5C;QACA;QACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACAsC;UACAC;UACAvC;QACA;QACAqB;QACA;MACA;MACA;QACAiB;UACAC;UACAvC;QACA;QACAqB;QACA;MACA;MAEAA,oBACA;QACApB;QACAe;QACAjB;QACAa;QACAV;QACAK;MACA,GACA;QACA;QACA;UACAc;UACAa;UACAb;YACAiB;cACAgB;YACA;UACA;UACA;YACAjC;YACAA;YACAA;YACAA;YACAA;UACA;QAGA;UACAA;UACAiB;YACAE;YACAD;YACAvC;UACA;QACA;MAEA,EACA;IACA;IAEA;IACA;IACAuD;MAAA;MACA;MACA;MACA;MACA;MACA;MACA;MACAjB;QACAkB;QAAA;QACAP;UACAf;UACAb,iBACA;YACAd;YACAkD;YACAC;YACAC;YACAC;YACAC;UACA,GACA;YACA3B;YACA;YACA;YACA;cACA;cACA;gBACA;gBACA;gBACA;gBACA;cACA;gBACAA;cACA;cACAI;gBACAgB;cACA;YAEA;cACAjC;YACA;UACA,EACA;QACA;QACA6B;UACAhB;UACAb;UACAiB;UACA;YACAA;cACAtC;cACA8D;cACAC;cACAd;gBACA;kBACAf;kBACAI;gBACA;cACA;YACA;UACA;QAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA;MACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC9ZA;AAAA;AAAA;AAAA;AAA6tC,CAAgB,mmCAAG,EAAC,C;;;;;;;;;;;ACAjvC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/user/register.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/user/register.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./register.vue?vue&type=template&id=f11a6d84&\"\nvar renderjs\nimport script from \"./register.vue?vue&type=script&lang=js&\"\nexport * from \"./register.vue?vue&type=script&lang=js&\"\nimport style0 from \"./register.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/user/register.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./register.vue?vue&type=template&id=f11a6d84&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./register.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t  <!-- <cu-custom bgColor=\"bg-blue\" :isBack=\"true\"><block slot=\"backText\">返回</block><block slot=\"content\">注册</block></cu-custom> -->\r\n\t\t<block v-if=\"ismobile\">\r\n\t\t\t<view class=\"\">\r\n\t\t\t\t<view class=\"login-card\">\r\n\t\t\t\t\t<view class=\"login-head\">{{title}}</view>\r\n\t\t\t\t\t<view class=\"login-input login-margin-b\">\r\n\t\t\t\t\t\t<input type=\"number\" v-model=\"username\" placeholder=\"请输入手机号\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"login-input\">\r\n\t\t\t\t\t\t<input type=\"number\" :password=\"true\" v-model=\"password\" placeholder=\"请输入密码(6-16位)\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"margin-top flex justify-center\">\r\n\t\t\t\t\t\t<button class=\"cu-btn bg-purple shadow-blur round\" :loading=\"loading\"   @tap=\"login\">{{ loading ? \"登录中...\":\"手机登录\"}}</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"flex justify-center\">\r\n\t\t\t\t\t\t<view class=\"text-gray text-sm margin-top-xl\"  @tap=\"wechatLogin\">微信登录</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t</block>\r\n\t\t<block v-else>\r\n\t\t\t<view class=\"login-bg\">\r\n\t\t\t\t<view class=\"login-card\">\r\n\t\t\t\t\t<view class=\"login-head\">{{title}}</view>\r\n\t\t\t\t\t<view class=\"login-input login-margin-b\">\r\n\t\t\t\t\t\t<input type=\"number\" :value=\"mobile\" @input=\"mobileInput\" placeholder=\"请输入手机号\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"login-input login-margin-b  flex justify-between\">\r\n\t\t\t\t\t\t<input style=\"width: 80%;\"  type=\"number\" :value=\"code\" @input=\"codeInput\" placeholder=\"请输入手机验证码\" />\r\n\t\t\t\t\t\t<view class=\"codeSend\" v-if=\"sendSms\"  @tap=\"getCaptcha\">发送</view>\r\n\t\t\t\t\t\t<view class=\"text-purple codeSend\" v-else >{{countDown}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"login-input  login-margin-b\">\r\n\t\t\t\t\t\t<input type=\"text\" :password=\"true\"  @input=\"passwordInput\"  :value=\"password\" placeholder=\"请输入密码(6-16位)\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- <view class=\"login-input\">\r\n\t\t\t\t\t\t<input type=\"text\" :password=\"true\"  @input=\"password2Input\"  :value=\"password2\" placeholder=\"请再次输入密码(6-16位)\" />\r\n\t\t\t\t\t</view> -->\r\n\t\t\t\t\t<view class=\"cu-bar btn-group margin-top\">\r\n\t\t\t\t\t\t<button class=\"cu-btn bg-blue shadow-blur round\" :style=\"{background:color}\" :loading=\"loading\" @tap=\"register\">{{ loading ? \"提交中...\":\"注 册\"}}</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"flex justify-center\">\r\n\t\t\t\t\t\t<view class=\"text-gray text-sm margin-top-xl\"  @tap=\"mobileLogin\">登录</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</block>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tvar _this;\r\n\timport {baseLogo,title} from '../../config/config.js';\r\n\tlet page = 1,reachbottom=false;\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tmobile:'',\r\n\t\t\t\ttitle:title,\r\n\t\t\t\tusername: \"\",\r\n\t\t\t\tpassword: \"\",\r\n\t\t\t\tpassword2:'',\r\n\t\t\t\tclass_id:'',\r\n\t\t\t\tismobile:false,\r\n\t\t\t\tgroup_id:1,\r\n\t\t\t\tcode:'',\r\n\t\t\t\tbaseLogo:baseLogo,\r\n\t\t\t\tcountDown:60,\r\n\t\t\t\tsendSms:true,\r\n\t\t\t\ttimer:null,\r\n\t\t\t\temail:'',\r\n\t\t\t\tifCompany:false,\r\n\t\t\t\tloadingStatus:true,\r\n\t\t\t\tcompanyname:'',\r\n\t\t\t\tcompany_id:'',\r\n\t\t\t\tcompanyList:[],\r\n\t\t\t\tkeywords:'',\r\n\t\t\t\tcolor:''\r\n\t\t\t};\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t_this = this;\r\n\t\t},\r\n\t\tonLoad(e) {\r\n\t\t\tthis.color=uni.getStorageSync('color')\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tuserNameInput(e){\r\n\t\t\t\t_this.username=e.detail.value;\r\n\t\t\t},\r\n\t\t\tmobileInput(e){\r\n\t\t\t\t_this.mobile=e.detail.value;\r\n\t\t\t},\r\n\t\t\temailInput(e){\r\n\t\t\t\t_this.email=e.detail.value;\r\n\t\t\t},\r\n\t\t\tpasswordInput(e){\r\n\t\t\t\t_this.password=e.detail.value;\r\n\t\t\t},\r\n\t\t\tpassword2Input(e){\r\n\t\t\t\t_this.password2=e.detail.value;\r\n\t\t\t},\r\n\t\t\tcodeInput(e){\r\n\t\t\t\t_this.code=e.detail.value;\r\n\t\t\t},\r\n\t\t\tmobileLogin(){\r\n\t\t\t\t_this.$common.navigateTo('login');\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tcompanyInput(e){\r\n\t\t\t\tpage=1;\r\n\t\t\t\treachbottom=false;\r\n\t\t\t\tconsole.log(e.detail.value);\r\n\t\t\t\tif(e.detail.value.length>0){\r\n\t\t\t\t\tif (this.loadingStatus) {\r\n\t\t\t\t\t\tvar keywords = e.detail.value;\r\n\t\t\t\t\t\tthis.keywords = keywords\r\n\t\t\t\t\t\tthis.companyList = []\r\n\t\t\t\t\t\tthis.companylist(keywords);\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.keywords='';\r\n\t\t\t\t\tthis.ifCompany = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//医院列表\r\n\t\t\tcompanylist(keywords) {\r\n\t\t\t\tthis.loadingStatus=false;\r\n\t\t\t\t_this.$api.companylist(\r\n\t\t\t\t{\r\n\t\t\t\t\tcompanyname: keywords,\r\n\t\t\t\t\tpage:page,\r\n\t\t\t\t\tlimit:10\r\n\t\t\t\t},\r\n\t\t\t\tdata => {\r\n\t\t\t\t\tif(data.code==1){\r\n\t\t\t\t\t\tthis.ifCompany = true\r\n\t\t\t\t\t\tthis.loadingStatus=true;\r\n\t\t\t\t\t\tvar arr= data.data.map(item=>{\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t...item\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tif (data.data == ''||data.data.length == 0) {\r\n\t\t\t\t\t\t\treachbottom = true\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: \"已经加载全部\",\r\n\t\t\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\t\t\tduration: 500\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tpage++;\r\n\t\t\t\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t\t\t\t\tthis.companyList= this.companyList.concat(arr);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//输入框字数为0时\r\n\t\t\t\t\t\tif (this.keywords.length == 0) {\r\n\t\t\t\t\t\t\tthis.companyList = []\r\n\t\t\t\t\t\t\tpage=1;\r\n\t\t\t\t\t\t\treachbottom=false;\r\n\t\t\t\t\t\t\tthis.ifCompany = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tbottomHospital(e){\r\n\t\t\t\tif (!reachbottom) {\r\n\t\t\t\t\tthis.companylist(this.keywords);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tselectCompany(id, name) {\r\n\t\t\t\tthis.company_id = id\r\n\t\t\t\tthis.companyname = name\r\n\t\t\t\tthis.companyList = []\r\n\t\t\t\tthis.ifCompany = false;\r\n\t\t\t},\r\n\t\t\tgetCaptcha() {\r\n\t\t\t\t//获取验证码\r\n\t\t\t\tif (!_this.$common.testString(this.mobile,'mobile')) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tposition: 'bottom',\r\n\t\t\t\t\t\ttitle: '手机号格式不正确'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}else{ \r\n\t\t\t\t_this.$api.sendSmsVerify(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tevent: 'register',\r\n\t\t\t\t\t\tmobile: _this.mobile\r\n\t\t\t\t\t},\r\n\t\t\t\t\tres => {\r\n\t\t\t\t\t\tif (res.code) {\r\n\t\t\t\t\t\t\t_this.$common.successToShow(res.msg);\r\n\t\t\t\t\t\t\t_this.sendSms=false;\r\n\t\t\t\t\t\t\t _this.runCode();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t_this.$common.errorToShow(res.msg);\r\n\t\t\t\t\t\t\t_this.sendSms=true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t }\r\n\t\t\t},\r\n\t\t\trunCode(){\r\n\t\t\t\tthis.timer =setInterval(function(){\r\n\t\t\t\t\t  if(!_this.sendSms){\r\n\t\t\t\t\t\t  if(_this.countDown>1){\r\n\t\t\t\t\t\t\t\t_this.countDown--; \r\n\t\t\t\t\t\t  }else{\r\n\t\t\t\t\t\t\t\t_this.countDown=60;\r\n\t\t\t\t\t\t\t\t_this.sendSms=true;\r\n\t\t\t\t\t\t\t\tclearInterval(this.timer)\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t  }\r\n\t\t\t\t\t  }\t\t\t\t \t\t\t\t \r\n\t\t\t\t},1000)\r\n\t\t\t},\r\n\t\t\twxLogin(){\r\n\t\t\t\twx.login({\r\n\t\t\t\t    success:(res) => {\r\n\t\t\t\t        this.code = res.code;\r\n\t\t\t\t    },\r\n\t\t\t\t\tfail: function (error) {\r\n\t\t\t\t\t        console.log('login failed ' + error);\r\n\t\t\t\t\t      }\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//切换微信登录\r\n\t\t\twechatLogin(){\r\n\t\t\t\t_this.ismobile=false;\r\n\t\t\t},\r\n\t\t\t//切换手机登录\r\n\t\t\tchangMobileLogin(){\r\n\t\t\t\t_this.ismobile=true;\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t//注册\r\n\t\t\tregister() {\r\n\t\t\t\t_this.loading = true;\r\n\t\t\t\t// if (_this.username == '') {\r\n\t\t\t\t// \tuni.showToast({\r\n\t\t\t\t// \t\ticon: 'none',\r\n\t\t\t\t// \t\ttitle: '请输入正确的用户名'\r\n\t\t\t\t// \t});\r\n\t\t\t\t// \t_this.loading = false;\r\n\t\t\t\t// \treturn;\r\n\t\t\t\t// }\r\n\t\t\t\tif (!_this.$common.testString(this.mobile,'mobile')) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tposition: 'bottom',\r\n\t\t\t\t\t\ttitle: '手机号格式不正确'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\t// if (!_this.$common.testString(this.email,'mail')) {\r\n\t\t\t\t// \tuni.showToast({\r\n\t\t\t\t// \t\ticon: 'none',\r\n\t\t\t\t// \t\tposition: 'bottom',\r\n\t\t\t\t// \t\ttitle: '邮箱格式不正确'\r\n\t\t\t\t// \t});\r\n\t\t\t\t// \treturn false;\r\n\t\t\t\t// }\r\n\t\t\t\t// if(this.company_id==''){\r\n\t\t\t\t// \tuni.showToast({\r\n\t\t\t\t// \t\ticon: 'none',\r\n\t\t\t\t// \t\ttitle: '请选择关联公司'\r\n\t\t\t\t// \t});\r\n\t\t\t\t// \treturn false;\r\n\t\t\t\t// }\r\n\t\t\t\tif (_this.code == '') {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '请输入验证码'\r\n\t\t\t\t\t});\r\n\t\t\t\t\t_this.loading = false;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (_this.password == '') {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '请输入密码'\r\n\t\t\t\t\t});\r\n\t\t\t\t\t_this.loading = false;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t_this.$api.register(\r\n\t\t\t\t\t {\r\n\t\t\t\t\t\tusername: _this.username,\r\n\t\t\t\t\t\tcompany_id:this.company_id,\r\n\t\t\t\t\t\tmobile: _this.mobile,\r\n\t\t\t\t\t\temail:_this.email,\r\n\t\t\t\t\t\tpassword: _this.password,\r\n\t\t\t\t\t\tcode: _this.code,\r\n\t\t\t\t\t },\r\n\t\t\t\t\tdata => {\r\n\t\t\t\t\t\t//console.log(data);\r\n\t\t\t\t\t\tif (data.code == 1) {\r\n\t\t\t\t\t\t\t_this.loading = false;\r\n\t\t\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t\t\t\t_this.$common.successToShow(data.msg,function(){\r\n\t\t\t\t\t\t\t  uni.navigateTo({\r\n\t\t\t\t\t\t\t  \turl: '../index/index'\r\n\t\t\t\t\t\t\t  });\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t_this.$db.set('upload', 1)\r\n\t\t\t\t\t\t\t\t_this.$db.set('login', 1)\r\n\t\t\t\t\t\t\t\t_this.$db.set('token', data.data.user.token)\r\n\t\t\t\t\t\t\t\t_this.$db.set('user', data.data.user)\t\r\n\t\t\t\t\t\t\t\t_this.$db.set('auth', data.data.auth)\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t_this.loading = false;\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\ttitle: data.msg\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//改版后小程序登录规则\r\n\t\t\t//小程序登录\r\n\t\t\tonGetUserProfile() {\r\n\t\t\t\t// uni.showLoading({\r\n\t\t\t\t// \ttitle:\"正在登录中...\"\r\n\t\t\t\t// })\r\n\t\t\t\tvar platform='wechat';\r\n\t\t\t\tvar that=this;\r\n\t\t\t\tvar fid=uni.getStorageSync('parentid')?uni.getStorageSync('parentid'):''; \r\n\t\t\t\tuni.getUserProfile({\r\n\t\t\t\t\t desc: '用于完善会员资料', // 声明获取用户个人信息后的用途，后续会展示在弹窗中，请谨慎填写\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t_this.$api.third(\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tcode: _this.code,\r\n\t\t\t\t\t\t\t\tplatform:platform,\r\n\t\t\t\t\t\t\t\tencrypted_data: res.encryptedData,\r\n\t\t\t\t\t\t\t\tiv: res.iv,\r\n\t\t\t\t\t\t\t\traw_data: res.rawData,\r\n\t\t\t\t\t\t\t\tsignature: res.signature\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tdata => {\r\n\t\t\t\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t\t\t\t\t//console.log(data.data.userinfo) \r\n\t\t\t\t\t\t\t\tvar res=data.data;\r\n\t\t\t\t\t\t\t\tif (data.code == 1) {\r\n\t\t\t\t\t\t\t\t\tthis.$common.successToShow('登录成功!');\r\n\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\tthis.$db.set('upload',1)\r\n\t\t\t\t\t\t\t\t\t\tthis.$db.set('login', 1)\r\n\t\t\t\t\t\t\t\t\t\tthis.$db.set('auth',res.auth)\r\n\t\t\t\t\t\t\t\t\t\tthis.$db.set('user', res.userinfo)\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"e: \",e);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\t\turl: '../index/index'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t_this.wxLogin();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (res) => {\r\n\t\t\t\t\t\tconsole.log(\"res: \",res);\r\n\t\t\t\t\t\t_this.wxLogin();//重新获取登录code\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tif (res.errMsg == \"getUserInfo:cancel\" || res.errMsg == \"getUserInfo:fail auth deny\") {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: '用户授权失败',\r\n\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\tcontent: '请点击重新授权，如果未弹出授权，请尝试长按删除小程序，重新进入!',\r\n\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log('用户点击确定')\r\n\t\t\t\t\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t// uni.login({\r\n\t\t\t\t// \tsuccess: loginRes => {\r\n\t\t\t\t// \t\tuni.hideLoading();\r\n\t\t\t\t// \t\tconsole.log('第一次登录'+loginRes.code)\r\n\t\t\t\t// \t\tif (loginRes.code && loginRes.code!='') {\r\n\t\t\t\t// \t\t\tconsole.log('2222222222222222222')\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t}\r\n\t\t\t\t// })\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\tpage{ background: #fff;}\r\n\t.content{ height: 100%;}\r\n\t.logView{\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content:center ;\r\n\t\tflex-direction:column;\r\n\t\talign-items: center;     /* 垂直居中 */\r\n\t\t width: 100%;\r\n\t\t position: fixed;\r\n\t\t left: 50%;\r\n\t\t top: 50%;\r\n\t\t transform: translate(-50%,-50%);\r\n\t}\r\n\t.logbt {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content:center ;\r\n\t\tflex-direction:column;\r\n\t\talign-items: center;     /* 垂直居中 */\r\n\t\t width: 100%;\r\n\t\tbackground: none;\r\n\t\tborder: none !important; \t\r\n\t}\r\n\r\n\t.logbt:after {\r\n\t\tborder: none !important;\r\n\t}\r\n   .logbt .logoimg{\r\n\t   width: 200rpx;\r\n\t   height: 200rpx;\r\n\t   display: block;\r\n   }\r\n   .logbt .wechatimg{\r\n   \t  width: 150rpx;\r\n   \t  height: 150rpx;\r\n   \t   display: block;\r\n   }\r\n   .loginTitile{ padding: 50rpx; font-size: 28rpx; color: #787878; line-height: 1.3; text-align: center;} \r\n   .loginBtn{ width: 300rpx; height: 70rpx; line-height: 70rpx; color: #fff; background:#2562a1; border-radius: 10rpx; border: none;}\r\n\timage {\r\n\t\twidth: 100rpx;\r\n\t\theight: 100rpx;\r\n\t}\r\n.mobileLogin{ background: none; color: #999; text-align: center; margin: 40rpx auto; border: none; font-size: 26rpx;}\r\n\t.landing[type=primary] {\r\n\t\theight: 84rpx;\r\n\t\tline-height: 84rpx;\r\n\t\tborder-radius: 44rpx;\r\n\t\tfont-size: 32rpx;\r\n\t\t/* background: linear-gradient(left, #86B5F4, #4790EF); */\r\n\t\tbackground-color: #ffbc32;\r\n\t}\r\n\r\n\t.login-btn {\r\n\t\tpadding: 10rpx 20rpx;\r\n\t\tmargin-top: 60rpx;\r\n\t}\r\n\r\n\t.login-function {\r\n\t\toverflow: auto;\r\n\t\tpadding: 20rpx 20rpx 30rpx 20rpx;\r\n\t}\r\n\r\n\t.login-forget {\r\n\t\tfloat: left;\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #999;\r\n\t}\r\n\r\n\t.login-register {\r\n\t\tcolor: #666;\r\n\t\tfloat: right;\r\n\t\tfont-size: 26rpx;\r\n\r\n\t}\r\n\r\n\t.login-input input {\r\n\t\tbackground: #F2F5F6;\r\n\t\tfont-size: 28rpx;\r\n\t\tpadding: 10rpx 25rpx;\r\n\t\theight: 80rpx;\r\n\t\tline-height: 80rpx;\r\n\t\tborder-radius: 40rpx;\r\n\t}\r\n\r\n\t.login-margin-b {\r\n\t\tmargin-bottom: 25rpx;\r\n\t}\r\n\r\n\t.login-input {\r\n\t\tpadding: 10rpx 0;\r\n\t}\r\n\r\n\t.login-head {\r\n\t\tfont-size: 34rpx;\r\n\t\ttext-align: center;\r\n\t\tpadding: 25rpx 10rpx 55rpx 10rpx;\r\n\t}\r\n.login-head image{ width: 200rpx;}\r\n\t.login-card {\r\n\t\tbackground: #fff;\r\n\t\tborder-radius: 12rpx;\r\n\t\tpadding: 10rpx 25rpx;\r\n\t\tposition: relative;\r\n\t\tmargin-top: 120rpx;\r\n\t}\r\n\r\n\t.login-bg {\r\n\t\theight: 100%;\r\n\t\tpadding: 25rpx;\r\n\t}\r\n\t.codeSend{\r\n\t\tline-height:80rpx; height: 80rpx; width: 100rpx ; text-align: center;\r\n\t\tbackground: #f7f7f7; color: #666; border-radius:20rpx;\r\n\t}\r\n\t\r\n\t.companyContent{position: absolute; top: 100rpx; left: 0; width: 100%; z-index: 100; background: #fff; box-shadow: 0 0 10px #ccc;}\r\n\t.companyList{padding: 30rpx; color: #333; font-size: 28rpx; border-bottom: 1px solid #F2F2F2;}\r\n\t\r\n\t.hospital_body{max-height: 400rpx; overflow-y: auto;}\r\n\t.manual_input{color: #45cb8c; font-size: 24rpx; padding: 10rpx 0; text-align: center;}\r\n\t.hospital_item {\r\n\t\tpadding: 20rpx 30rpx;\r\n\t\tborder-bottom: 1px solid #f2f2f2;\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #666;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.hospital_item:last-child {\r\n\t\tborder: none;\r\n\t}\r\n\t.login-head{ font-size: 90rpx;\r\n\tfont-weight: bold;\r\n\t-webkit-mask-image:-webkit-gradient(linear, 0 0, 0 bottom, from(white), to(rgba(210, 1, 160, 0.53)));}\r\n</style>\r\n","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./register.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./register.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1706369152660\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}