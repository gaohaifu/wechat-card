{"version":3,"sources":["webpack:////Users/qiujianjun/code/wechat-card/addons/smartcard/smartcard-uniapp/components/uploadImg/uploadImg.vue?733e","webpack:////Users/qiujianjun/code/wechat-card/addons/smartcard/smartcard-uniapp/components/uploadImg/uploadImg.vue?fa7d","webpack:////Users/qiujianjun/code/wechat-card/addons/smartcard/smartcard-uniapp/components/uploadImg/uploadImg.vue?9b9f","webpack:////Users/qiujianjun/code/wechat-card/addons/smartcard/smartcard-uniapp/components/uploadImg/uploadImg.vue?01b0","uni-app:///components/uploadImg/uploadImg.vue","webpack:////Users/qiujianjun/code/wechat-card/addons/smartcard/smartcard-uniapp/components/uploadImg/uploadImg.vue?738a","webpack:////Users/qiujianjun/code/wechat-card/addons/smartcard/smartcard-uniapp/components/uploadImg/uploadImg.vue?1196"],"names":["props","control","type","default","cooperate","deleteBtn","columnNum","sourceType","background","describe","styleType","maxCount","lookNum","mode","data","cndUrl","imgList","showList","showUploadControl","uploadNum","watch","created","methods","init","console","uploadImg","userToken","uni","sizeType","count","success","url","filePath","fileType","name","headers","formData","fail","complete","setTimeout","deleteImg","title","content","getUrl","previewImage","current","urls","handleImg","isMaxNum"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkI;AAClI;AAC6D;AACL;AACqC;;;AAG7F;AACsN;AACtN,gBAAgB,iNAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,gGAAM;AACR,EAAE,yGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrCA;AAAA;AAAA;AAAA;AAAq2B,CAAgB,uyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;ACmHz3B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBAKA;EACAA;IACA;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;IACA;IACAE;MACAH;MACAC;IACA;IACA;IACAG;MACAJ;MACAC;IACA;IACA;IACAI;MACAL;MACAC;QACA;MACA;IACA;IACAK;MACAN;MACAC;IACA;IACAM;MACAP;MACAC;IACA;IACAO;MACAR;MACAC;IACA;IACA;IACAQ;MACAT;MACAC;IACA;IACA;IACAS;MACAV;MACAC;IACA;IACA;IACAU;MACAX;MACAC;QACA;MACA;IACA;IACAD;MACAA;MACAC;IACA;EACA;EACAW;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAP;MACA;IACA;IACAZ;MACA;IACA;EACA;EACAoB,6BAMA;EACAC;IACAC;MACA;QACA;QACA;UACA;QACA;UACA;QACA;QACA;MACA;QACA;MACA;MACAC;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;MACAC;MACAC;QACAC;QACArB;QACAsB;QACAC;UACAN;UACA;UACA;UACA;UACA;UACA;UACA;YACAG;cACAI;cACAC;cACAC;cACAC;cACAC;gBACA;gBACA;gBACA;cACA;cACAC;cACAN;gBACA;gBACA;kBACA;kBACA;gBACA;kBACA;kBACA;kBACA;gBACA;kBACA;kBACA;gBACA;gBACA;cACA;cACAO;gBACA;kBACA;gBACA;cACA;cACAC;gBACAC;kBACAZ;gBACA;cACA;YACA;YACA;UACA;QAEA;MACA;IACA;IACA;IACAa;MAAA;MACA;MACAb;QACAc;QACAC;QACAZ;UACA;YACAa;YACA;YACA;UACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACA;MACA;MACAjB;QACAkB;QACAC;MACA;IACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;QACA;MACA;QACA;MACA;IACA;EACA;AACA;AAAA,4B;;;;;;;;;;;;;ACjUA;AAAA;AAAA;AAAA;AAAsvC,CAAgB,4nCAAG,EAAC,C;;;;;;;;;;;ACA1wC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/uploadImg/uploadImg.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./uploadImg.vue?vue&type=template&id=222d9e6c&scoped=true&\"\nvar renderjs\nimport script from \"./uploadImg.vue?vue&type=script&lang=js&\"\nexport * from \"./uploadImg.vue?vue&type=script&lang=js&\"\nimport style0 from \"./uploadImg.vue?vue&type=style&index=0&id=222d9e6c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"222d9e6c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/uploadImg/uploadImg.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uploadImg.vue?vue&type=template&id=222d9e6c&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.type == \"bill\" ? _vm.imgList.length : null\n  var g1 = _vm.type == \"card\" ? _vm.imgList.length : null\n  var g2 =\n    !(_vm.type == \"card\") && _vm.type == \"header\" ? _vm.imgList.length : null\n  var g3 =\n    !(_vm.type == \"card\") && _vm.type == \"header\" && !(_vm.cooperate == 1)\n      ? _vm.imgList.length\n      : null\n  var g4 =\n    !(_vm.type == \"card\") && !(_vm.type == \"header\") && _vm.type == \"avatar\"\n      ? _vm.imgList.length\n      : null\n  var g5 =\n    !(_vm.type == \"card\") && !(_vm.type == \"header\") && !(_vm.type == \"avatar\")\n      ? _vm.imgList.length\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2,\n        g3: g3,\n        g4: g4,\n        g5: g5,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uploadImg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uploadImg.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"imglistbx\">\r\n    <!-- <view :class=\"['imglistItem',columnNum==3?'column3':'column4']\" v-for=\"(item,index) in showList\" :key='index'>\r\n      <image :src=\"item\" class=\"itemImg\" @click=\"previewImage(index)\" mode=\"aspectFill\"></image>\r\n      <icon size=\"18\" type=\"cancel\" class=\"cancelBtn\" @click=\"deleteImg(index)\" v-if=\"deleteBtn\"></icon>\r\n    </view> -->\r\n\t\t<block v-if=\"type=='bill'\">\r\n\t\t\t<view class=\"bill_img\" @click=\"uploadImg('')\">\r\n\t\t\t\t<view class=\"bill_content\">\r\n\t\t\t\t\t<block v-if=\"imgList.length>0\">\r\n\t\t\t\t\t\t<view class=\"uploadimg_bill\" v-for=\"(item,index) in imgList\" :key='index'>\r\n\t\t\t\t\t\t\t<image :src=\"cndUrl+item\" class=\"itemImg\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t\t<block v-else>\r\n\t\t\t\t\t\t<view class=\"bill_btn\">\r\n\t\t\t\t\t\t\t<image src=\"../../static/images/uplode.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t<!-- <text>请上传照片</text>\r\n\t\t\t\t\t\t\t<view>与企业名称保持一致</view> -->\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</block>\r\n\t\t<block v-if=\"type=='card'\">\r\n\t\t\t<view :class=\"styleType==1?'positive_negative':'identification_card'\" @click=\"uploadImg('')\">\r\n\t\t\t\t<view class=\"itemImg uploadControl\">\r\n\t\t\t\t\t<block v-if=\"imgList.length>0\">\r\n\t\t\t\t\t\t<view class=\"uploadimg_list\" v-for=\"(item,index) in imgList\" :key='index'>\r\n\t\t\t\t\t\t\t<image :src=\"cndUrl+item\" class=\"itemImg\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t\t<block v-else>\r\n\t\t\t\t\t\t<view class=\"uploadImg_btn\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<image :src=\"background\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t<text v-if=\"describe\">{{describe}}</text>\r\n\t\t\t\t\t\t\t<!-- <text>请上传照片</text>\r\n\t\t\t\t\t\t\t<view>与企业名称保持一致</view> -->\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</block>\r\n\t\t<block v-else>\r\n\t\t\t<block v-if=\"type=='header'\">\r\n\t\t\t\t<view class=\"imglistItem\">\r\n\t\t\t\t\t<block v-if=\"imgList.length>0\">\r\n\t\t\t\t\t\t<view class=\"itemImg flex_layout\">\r\n\t\t\t\t\t\t\t<view class=\"uploadimg_list\" v-for=\"(item,index) in imgList\" :key='index'>\r\n\t\t\t\t\t\t\t\t<image @click=\"previewImage(index)\" :src=\"cndUrl+item\" class=\"itemImg\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t<view class=\"deleteIcon\" @click=\"deleteImg(index)\">X</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t\t<!--合作不限制上传次数-->\r\n\t\t\t\t\t<block v-if=\"cooperate==1\">\r\n\t\t\t\t\t\t<view class=\"uploadImg_btn uploadControl\" @click=\"uploadImg('header')\">\r\n\t\t\t\t\t\t\t<image src=\"../../static/images/uplode.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t\t<block v-else>\r\n\t\t\t\t\t\t<block v-if=\"imgList.length<maxCount\">\r\n\t\t\t\t\t\t\t<view class=\"uploadImg_btn uploadControl\" @click=\"uploadImg('header')\">\r\n\t\t\t\t\t\t\t\t<image src=\"../../static/images/uplode.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t</view>\r\n\t\t\t</block>\r\n\t\t\t<block v-else>\r\n\t\t\t\t<block v-if=\"type=='avatar'\">\r\n\t\t\t\t\t<!-- 上传头像（不需要带cndUrl） -->\r\n\t\t\t\t\t<view class=\"imglistItem\" @click=\"uploadImg('avatar')\" style=\"border-radius: 50%;\">\r\n\t\t\t\t\t  <view class=\"itemImg uploadControl\" style=\"border-radius: 50%;\">\r\n\t\t\t\t\t\t\t<block v-if=\"imgList.length>0\">\r\n\t\t\t\t\t\t\t\t<view class=\"uploadimg_list\" v-for=\"(item,index) in imgList\" :key='index' style=\"border-radius: 50%;\">\r\n\t\t\t\t\t\t\t\t  <image :src=\"item\" class=\"itemImg\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t<block v-else>\r\n\t\t\t\t\t\t\t\t<view class=\"uploadImg_btn\">\r\n\t\t\t\t\t\t\t\t\t<image src=\"../../static/images/uplode.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t\t<block v-else>\r\n\t\t\t\t\t<!-- 上传控件 -->\r\n\t\t\t\t\t<view class=\"imglistItem commonStyle\" @click=\"uploadImg('')\">\r\n\t\t\t\t\t  <view class=\"itemImg uploadControl\">\r\n\t\t\t\t\t\t\t<block v-if=\"imgList.length>0\">\r\n\t\t\t\t\t\t\t\t<view class=\"uploadimg_list\" v-for=\"(item,index) in imgList\" :key='index'>\r\n\t\t\t\t\t\t\t\t  <image :src=\"cndUrl+item\" class=\"itemImg\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t<block v-else>\r\n\t\t\t\t\t\t\t\t<view class=\"uploadImg_btn\">\r\n\t\t\t\t\t\t\t\t\t<image src=\"../../static/images/uplode.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t</block>\r\n\t\t\t\r\n\t\t</block>\r\n    \r\n    <!-- <view class=\"clear\"></view> -->\r\n  </view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\t  cdnUrl,\r\n\t\t\tbaseUrl,\r\n\t\t\tbaseApiUrl\r\n\t\t} from '../../config/config.js';\r\n  export default {\r\n    props: {\r\n      //是否显示上传控件\r\n      control: {\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n\t  cooperate: {\r\n        type: [Number, String],\r\n        default: 0\r\n      },\r\n      //是否显示上删除按钮\r\n      deleteBtn: {\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      //行数量 \r\n      columnNum: {\r\n        type: [Number, String],\r\n        default: 4\r\n      },\r\n      //album 从相册选图，camera 使用相机\r\n      sourceType: {\r\n        type: Array,\r\n        default: function() {\r\n          return ['camera', 'album']\r\n        }\r\n      },\r\n\t\t\tbackground: {\r\n\t\t\t\ttype:String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tdescribe: {\r\n\t\t\t\ttype:String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tstyleType: {\r\n\t\t\t\ttype:String,\r\n\t\t\t\tdefault: '0'\r\n\t\t\t},\r\n      //最大上传数量\r\n      maxCount: {\r\n        type: [Number, String],\r\n        default: 5\r\n      },\r\n\t\t\t//上传数量\r\n\t\t\tlookNum:{\r\n\t\t\t\ttype: [Number, String],\r\n\t\t\t\tdefault: 3\r\n\t\t\t},\r\n      //服务返回回调的图片数组--回填\r\n      mode: {\r\n        type: Array,\r\n        default: function() {\r\n          return []\r\n        }\r\n      },\r\n\t\t\ttype: {\r\n\t\t\t\ttype:String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t}\r\n    },\r\n    data() {\r\n      return {\r\n\t\tcndUrl:cdnUrl,\r\n        imgList: [],\r\n        showList: [],\r\n        showUploadControl: true,\r\n\t\t\t\tuploadNum:this.maxCount\r\n      }\r\n    },\r\n    watch: {\r\n      mode(v) {\r\n        this.init(v)\r\n      },\r\n      control(v) {\r\n        this.showUploadControl = v\r\n      }\r\n    },\r\n    created() {\r\n\t\t\t// #ifdef H5\r\n\t\t\tsetTimeout(()=>{\r\n\t\t\t\tthis.init(this.mode)\r\n\t\t\t},1500)\r\n\t\t\t// #endif\r\n    },\r\n    methods: {\r\n      init(v) {\r\n\t\t\t\tif (this.mode.length != 0) {\r\n\t\t\t\t\tthis.imgList = v;\r\n\t\t\t\t\tif(this.type=='header'){\r\n\t\t\t\t\t\tthis.uploadNum = this.maxCount-v.length\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.uploadNum = this.maxCount\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.uploadNum = this.maxCount\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log('this.uploadNum',this.uploadNum)\r\n        //this.showList = this.imgList;\r\n      },\r\n      // 上传图片\r\n      uploadImg(type) {\r\n\t\t\t\tlet userToken = '';\r\n\t\t\t\tlet auth = this.$db.get(\"auth\");\r\n\t\t\t\tuserToken = auth.token;\r\n        uni.chooseImage({\r\n          sizeType: ['compressed'],\r\n          sourceType: this.sourceType,\r\n          count: this.type=='avatar'?1:this.uploadNum,\r\n          success: (res) => {\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\tconst tempFilePaths = res.tempFilePaths;\r\n\t\t\t\t\t\t// this.imgList=tempFilePaths.map(item=>{\r\n\t\t\t\t\t\t// \treturn item\r\n\t\t\t\t\t\t// })\r\n\t\t\t\t\t\t//this.$emit(\"chooseFile\", this.imgList, tempFilePaths[0]) \r\n\t\t\t\t\t\tfor(var i=0; i<tempFilePaths.length; i++){\r\n\t\t\t\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\t\t\t\turl: baseApiUrl + 'common/upload?token='+userToken,\r\n\t\t\t\t\t\t\t\tfilePath: tempFilePaths[i],\r\n\t\t\t\t\t\t\t\tfileType: 'image',\r\n\t\t\t\t\t\t\t\tname: 'file',\r\n\t\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t\t'Accept': 'application/json',\r\n\t\t\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\t\t\t'token': userToken\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tformData: {},\r\n\t\t\t\t\t\t\t\tsuccess: (uploadFileRes) => {\r\n\t\t\t\t\t\t\t\t\tvar dataimg=JSON.parse(uploadFileRes.data);\r\n\t\t\t\t\t\t\t\t\tif(type=='header'){\r\n\t\t\t\t\t\t\t\t\t\tthis.imgList.push(dataimg.data.url);\r\n\t\t\t\t\t\t\t\t\t\tthis.uploadNum=this.maxCount-this.imgList.length\r\n\t\t\t\t\t\t\t\t\t}else if(type=='avatar'){\r\n\t\t\t\t\t\t\t\t\t\tthis.imgList=[]\r\n\t\t\t\t\t\t\t\t\t\t//上传头像\r\n\t\t\t\t\t\t\t\t\t\tthis.imgList.push(dataimg.data.fullurl);\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\tthis.imgList=[]\r\n\t\t\t\t\t\t\t\t\t\tthis.imgList.push(dataimg.data.url);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tthis.$emit(\"chooseFile\", this.imgList, tempFilePaths) \r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail: (error) => {\r\n\t\t\t\t\t\t\t\t\tif (error && error.response) {\r\n\t\t\t\t\t\t\t\t\t\tthis.$common.showError(error.response);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t}, 250);\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t//\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n          }\r\n        });\r\n      },\r\n      //删除图片\r\n      deleteImg(eq) {\r\n        let getUrl = this.handleImg();\r\n        uni.showModal({\r\n          title: '提示',\r\n          content: '您确定删除吗？',\r\n          success: (res)=> {\r\n            if (res.confirm) {\r\n             getUrl.splice(eq, 1);\r\n             this.$emit(\"imgDelete\", getUrl, eq);\r\n             //this.isMaxNum();\r\n            }\r\n          }\r\n        });\r\n      },\r\n      // 预览图片\r\n      previewImage(eq) {\r\n        let getUrl = this.handleImg().map(item=>{\r\n\t\t\t\t\treturn this.cndUrl+item\r\n\t\t\t\t});\r\n        uni.previewImage({\r\n          current: getUrl[eq],\r\n          urls: getUrl\r\n        })\r\n      },\r\n      //返回需要操作的图片数组\r\n      //如果是回调了则操作回填后的数组 否则操作临时路径的图片数组\r\n      handleImg() {\r\n        return this.imgList\r\n      },\r\n      //判断图片数量是否已经到最大数量\r\n      isMaxNum() {\r\n        if (this.imgList.length >= this.maxCount) {\r\n          this.showUploadControl = false\r\n        } else {\r\n          this.showUploadControl = true\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  /* 上传  str */\r\n  .imglistbx {\r\n\t\tborder-radius: 10px;\r\n\t\t/* box-shadow: 0 0 10px #ccc; */\r\n  }\r\n\t.identification_card{position: relative;\r\n    width: 240rpx;\r\n    height: 150rpx;\r\n\t\tbackground: #f6f6f6;}\r\n\t.positive_negative{width: 300rpx;height: 200rpx;background: #f6f6f6;border-radius: 10px;overflow: hidden;}\r\n  .imglistItem {\r\n    position: relative;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tflex-wrap: wrap;\r\n    /* width: 120rpx;\r\n    height: 120rpx;\r\n\t\tbackground: #f6f6f6; */\r\n  }\r\n\r\n  .column3 {\r\n    width: 33.3333%;\r\n    height: 160rpx;\r\n  }\r\n\r\n  .column4 {\r\n    width: 25%;\r\n    height: 130rpx;\r\n  }\r\n\r\n  .itemImg {\r\n\t\tborder-radius: 5px;\r\n    display: block;\r\n    border-radius: 10rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n  }\r\n\r\n  .cancelBtn {\r\n    position: absolute;\r\n    top: -10rpx;\r\n    right: 10rpx;\r\n  }\r\n\r\n  /* 上传控件 */\r\n  .uploadControl {\r\n    font-size: 50rpx;\r\n    color: #888;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  /*  上传  str end*/\r\n  .clear {\r\n    clear: both;\r\n  }\r\n\t\r\n\t.uploadImg_btn{width: 120rpx; height: 120rpx; background: #f6f6f6; border-radius: 5px; display: flex; align-items: center; justify-content: center;flex-wrap: wrap;}\r\n\t.identification_card .uploadImg_btn{width: 240rpx;height: 150rpx;}\r\n\t.identification_card .uploadImg_btn image{width: 240rpx; height: 150rpx; display: block; margin: 0 auto;}\r\n\t.positive_negative .uploadImg_btn{width: 300rpx;height: 200rpx;}\r\n\t.positive_negative .uploadImg_btn image{width: 50rpx;height: 50rpx;}\r\n\t.positive_negative .uploadImg_btn text{display: block;margin-top: 20rpx;text-align: center;color: #999;font-size: 30rpx;width: 100%;}\r\n\t.uploadImg_btn image{width: 36rpx; height: 36rpx; display: block; margin: 0 auto;}\r\n\t.uploadImg_btn text{display: block; color: #333; font-size: 30rpx; margin-top: 20rpx;}\r\n\t.uploadImg_btn view{display: block; color: #999; font-size: 24rpx; margin-top: 20rpx;}\r\n\t.uploadimg_list{width: 120rpx; height: 120rpx;margin: 10rpx;position: relative;}\r\n\t.uploadimg_list image{width: 100%; height: 100%;}\r\n\t.deleteIcon{position: absolute; right: -15rpx; top: -15rpx; background: #ccc; width: 30rpx; height: 30rpx; border-radius: 30rpx; font-size: 20rpx; text-align: center; line-height: 30rpx; z-index: 10; color: #999;}\r\n\t\r\n\t.identification_card .uploadimg_list{width: 100%; height: 100%;}\r\n\t.identification_card .itemImg{width: 100%; height: 100%;}\r\n\t.identification_card .uploadImg_btn{width: auto; height: auto; display: block;}\r\n\t.positive_negative .uploadimg_list{width: 100%; height: 100%;margin: 0;}\r\n\t.positive_negative .itemImg{width: 100%; height: 100%;}\r\n\t.commonStyle .itemImg{margin: 0;}\r\n\t.bill_btn{width: 180px; height: 130px; background: #f6f6f6; border-radius: 5px; display: flex; align-items: center; justify-content: center;}\r\n\t.bill_btn image{width: 36rpx; height: 36rpx; display: block; margin: 0 auto;}\r\n\t.uploadimg_bill{width: 180px; height: 130px;}\r\n</style>\n","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uploadImg.vue?vue&type=style&index=0&id=222d9e6c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uploadImg.vue?vue&type=style&index=0&id=222d9e6c&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1706369152905\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}